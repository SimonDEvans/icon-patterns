!function(t){if("function"==typeof define&&define.amd)define(["jquery"],t);else if("object"==typeof exports)if(global.window)module.exports=t(require("jQuery")(global.window));else{var i=require("jsdom").JSDOM;module.exports=t(require("jQuery")(new i("<!DOCTYPE html>").window))}else t(jQuery)}(function(t){"use strict";function i(t,i){if(!(i=i||{}).icons||!Object.keys(i.icons).length)throw new Error("Missing `icons` configuration from config file");this.color=i.color,this.size=i.size,this.icons=i.icons,this.container=t,this.animations=i.animations}var n={getRandomRotation:function(){return Math.round(360*Math.random())+1}};return t.iconPatterns={defaults:{animations:["initialize-fast","initialize-slow"],size:30,color:"#FFFFFF"}},i.prototype.getRandomInitialAnimation=function(){return this.animations[Math.floor(Math.random()*(this.animations.length-0)+0)]},i.prototype.generateIcon=function(t,i,n,o,e,r,a,s){var h=["font-size: "+n+"px","color: "+t];return"<span class='initial-animation-wrapper "+r+"' style='"+["left: "+o.x+"px","top:"+o.y+"px","-webkit-transform: rotate("+e+"deg)","-MS-transform: rotate("+e+"deg)","transform: rotate("+e+"deg)"].join(";")+"'><span class='entrance-animation-wrapper "+s+"'> <i class='"+[i,a].join(" ")+"' style='"+h.join(";")+"'></i></span></span>"},i.prototype.redraw=function(){this.root.remove(),this.draw()},i.prototype.draw=function(){this.root=t("<div class='icon-pattern-animation'></div>"),this.rootWidth=this.container.outerWidth(),this.rootHeight=this.container.outerHeight(),this.root.width(this.container.outerWidth()),this.root.height(this.container.outerHeight()),this.container.prepend(this.root);var i=this;for(var o in this.icons)for(var e=this.icons[o],r=n.getRandomRotation(),a=e.clusters,s=0;s<a.length;s++){var h=a[s],c={x:parseInt(h.x*i.rootWidth),y:parseInt(h.y*i.rootHeight)},l=h.sizeWeight||e.sizeWeight,d=this.size*l,f="initialAnimation"in h?h.initialAnimation:this.getRandomInitialAnimation(),u=h.rotationAnimation||"",p=h.entranceAnimation||"",m=t(i.generateIcon(this.color,o,d,c,r,f,u,p));i.root.append(m)}},t.extend(t.fn,{iconPatterns:function(n){return new i(t(this),Object.assign({},n,t.iconPatterns.defaults))}}),{Helpers:n,PatternInstance:i}});