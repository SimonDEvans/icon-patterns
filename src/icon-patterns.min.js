!function(t){if("function"==typeof define&&define.amd)define(["jquery"],t);else if("object"==typeof exports)if(global.window)module.exports=t(require("jQuery")(global.window));else{var i=require("jsdom").JSDOM;module.exports=t(require("jQuery")(new i("<!DOCTYPE html>").window))}else t(jQuery)}(function(t){"use strict";function i(t,i){if(!(i=i||{}).icons||!Object.keys(i.icons).length)throw new Error("Missing `icons` configuration from config file");this.color=i.color,this.size=i.size,this.icons=i.icons,this.$container=t,this.initialAnimations=i.initialAnimations,this.$container.css("position","relative")}var n={getRandomRotation:function(){return Math.round(360*Math.random())+1}};return t.iconPatterns={defaults:{initialAnimations:["initialize","initialize--fast","initialize--slow"],size:30,color:"#FFFFFF"}},i.prototype.getRandomInitialAnimation=function(){return this.initialAnimations[Math.floor(Math.random()*(this.initialAnimations.length-0)+0)]},i.prototype.generateIcon=function(i,n,o,e,r,s,a,c){var l=["font-size: "+o+"px","color: "+i],h=["left: "+e.x+"px","top:"+e.y+"px","-webkit-transform: rotate("+r+"deg)","-MS-transform: rotate("+r+"deg)","transform: rotate("+r+"deg)"];return t("<span class='icon-patterns__animations__initial "+s+"' style='"+h.join(";")+"'><span class='icon-patterns__animations__entrance "+c+"'> <i class='"+[n,a].join(" ")+"' style='"+l.join(";")+"'></i></span></span>")},i.prototype.redraw=function(){return this.$root.remove(),this.draw(),this},i.prototype.draw=function(){this.$root=t("<div class='icon-patterns__overlay'></div>"),this.$root.css({position:"absolute","z-index":1,top:0,left:0});var i=this.$container.outerWidth(),o=this.$container.outerHeight();this.$root.width(i),this.$root.height(o),this.$container.prepend(this.$root);var e=this;for(var r in this.icons)for(var s=this.icons[r],a=n.getRandomRotation(),c=s.clusters,l=0;l<c.length;l++){var h=c[l],f={x:parseInt(h.x*i),y:parseInt(h.y*o)},u=h.sizeWeight||s.sizeWeight,p=this.size*u,d="initialAnimation"in h?h.initialAnimation:this.getRandomInitialAnimation(),m=h.rotationAnimation||"",g=h.entranceAnimation||"",y=e.generateIcon(this.color,r,p,f,a,d,m,g);e.$root.append(y)}return this},t.extend(t.fn,{IconPatterns:function(n){return new i(t(this),Object.assign({},n,t.iconPatterns.defaults))}}),{Helpers:n,PatternInstance:i}});