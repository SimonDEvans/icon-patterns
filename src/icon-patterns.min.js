!function(t){if("function"==typeof define&&define.amd)define(["jquery"],t);else if("object"==typeof exports)if(global.window)module.exports=t(require("jQuery")(global.window));else{var i=require("jsdom").JSDOM;module.exports=t(require("jQuery")(new i("<!DOCTYPE html>").window))}else t(jQuery)}(function(t){"use strict";function i(t,i){if(!(i=i||{}).icons||!Object.keys(i.icons).length)throw new Error("Missing `icons` configuration from config file");this.color=i.color,this.size=i.size,this.icons=i.icons,this.$container=t,this.animations=i.animations,this.$container.css("position","relative")}var n={getRandomRotation:function(){return Math.round(360*Math.random())+1}};return t.iconPatterns={defaults:{animations:["initialize--fast","initialize--slow"],size:30,color:"#FFFFFF"}},i.prototype.getRandomInitialAnimation=function(){return this.animations[Math.floor(Math.random()*(this.animations.length-0)+0)]},i.prototype.generateIcon=function(i,n,o,e,r,s,a,c){var h=["font-size: "+o+"px","color: "+i],l=["left: "+e.x+"px","top:"+e.y+"px","-webkit-transform: rotate("+r+"deg)","-MS-transform: rotate("+r+"deg)","transform: rotate("+r+"deg)"];return t("<span class='icon-patterns__animations__initial "+s+"' style='"+l.join(";")+"'><span class='icon-patterns__animations__entrance "+c+"'> <i class='"+[n,a].join(" ")+"' style='"+h.join(";")+"'></i></span></span>")},i.prototype.redraw=function(){return this.root.remove(),this.draw(),this},i.prototype.draw=function(){this.$root=t("<div class='icon-patterns__overlay'></div>"),this.$root.css({position:"absolute","z-index":1,top:0,left:0}),this.rootWidth=this.$container.outerWidth(),this.rootHeight=this.$container.outerHeight(),this.$root.width(this.$container.outerWidth()),this.$root.height(this.$container.outerHeight()),this.$container.prepend(this.$root);var i=this;for(var o in this.icons)for(var e=this.icons[o],r=n.getRandomRotation(),s=e.clusters,a=0;a<s.length;a++){var c=s[a],h={x:parseInt(c.x*i.rootWidth),y:parseInt(c.y*i.rootHeight)},l=c.sizeWeight||e.sizeWeight,u=this.size*l,d="initialAnimation"in c?c.initialAnimation:this.getRandomInitialAnimation(),f=c.rotationAnimation||"",p=c.entranceAnimation||"",m=i.generateIcon(this.color,o,u,h,r,d,f,p);i.$root.append(m)}return this},t.extend(t.fn,{iconPatterns:function(n){return new i(t(this),Object.assign({},n,t.iconPatterns.defaults))}}),{Helpers:n,PatternInstance:i}});