"use strict";var _slicedToArray=function(){function t(t,e){var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!e||r.length!==e);n=!0);}catch(t){o=!0,i=t}finally{try{!n&&s.return&&s.return()}finally{if(o)throw i}}return r}return function(e,r){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"===("undefined"==typeof exports?"undefined":_typeof(exports))?module.exports=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:global.window;return t(require("jQuery")(e))}:t(jQuery)}(function(t){function e(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!t||!t.length)throw new Error("Missing `target` jQuery instance");if(!e.icons||!Object.keys(e.icons).length)throw new Error("Missing `icons` configuration from config file");this.color=e.color,this.icons=e.icons,this.width=t.outerWidth(),this.height=t.outerHeight(),this.$overlay=this.generateOverlay(this.width,this.height),this.$target=t,this.$target.css("position","relative"),this.$target.prepend(this.$overlay)}t.iconPatterns={DEFAULTS:{color:"#FFFFFF"},ANIMATIONS:{INITIALIZE:["initialize","initialize--fast","initialize--slow"],ROTATE:["rotate","rotate--fast","rotate--slow","rotate--reverse","rotate--reverse--fast","rotate--reverse--slow"],EXPAND:["expand","expand--fast","expand--slow","expand--reverse","expand--reverse--fast","expand--reverse--slow"]}};var r={Random:{rotation:function(){return Math.round(360*Math.random())+1},number:function(t,e){return Math.floor(Math.random()*(e-t)+t)},itemFrom:function(t){return t[r.Random.number(0,t.length)]},offset:function(t,e){return{x:parseInt(Math.random()*t),y:parseInt(Math.random()*e)}},positions:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.1;if(!t||t<=0)throw new Error("Argument `count` should be greater than zero");var i=Math.floor(Math.sqrt(t))+1,a={rows:i,columns:i,width:Math.floor(e/i),height:Math.floor(n/i)};return Array.from(Array(t)).map(function(t,i){var s=Math.floor(i/a.columns),c=i%a.rows,f=a.width*c+a.width/2,u=a.height*s+a.height/2,l=r.Random.offset(o*(e/2),o*(n/2));return{x:r.Random.itemFrom([f+l.x,f-l.x]),y:r.Random.itemFrom([u+l.y,u-l.y])}})}}};return e.prototype.generateIcon=function(e,r,n,o,i,a){var s=["font-size: "+n+"px","color: "+e],c=["left: "+o.x+"px","top: "+o.y+"px","-webkit-transform: rotate("+i+"deg)","-MS-transform: rotate("+i+"deg)","transform: rotate("+i+"deg)"];return t("<span class='icon-patterns__animations__initial "+a.initial+"' style='"+c.join(";")+"'><span class='icon-patterns__animations__expand "+a.expand+"'> <i class='"+[r,a.rotate].join(" ")+"' style='"+s.join(";")+"'></i></span></span>")},e.prototype.generateOverlay=function(e,r){var n=t("<div class='icon-patterns__overlay'></div>");return n.width(e),n.height(r),n.css({position:"absolute","z-index":1,top:0,left:0}),n},e.prototype.draw=function(){var e=this,n=t.iconPatterns.ANIMATIONS,o=Object.entries(this.icons),i=o.reduce(function(t,e){return t+e[1].count},0),a=r.Random.positions(i,this.width,this.height);return o.forEach(function(t){var o=_slicedToArray(t,2),i=o[0],s=o[1],c=s.sizeVariation,f=s.count;Array.from(Array(f)).forEach(function(){var t=r.Random.rotation(),o=r.Random.number(0,a.length-1),s=a.splice(o,1)[0],f=r.Random.number(c[0],c[1]),u={initial:r.Random.itemFrom(n.INITIALIZE),rotate:r.Random.itemFrom(n.ROTATE),expand:r.Random.itemFrom(n.EXPAND)},l=e.generateIcon(e.color,i,f,s,t,u);e.$overlay.append(l)})}),this},t.extend(t.fn,{IconPatterns:function(r){return new e(t(this),Object.assign({},r,t.iconPatterns.DEFAULTS))}}),{Helpers:r,PatternInstance:e}});