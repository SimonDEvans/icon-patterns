"use strict";var _slicedToArray=function(){function t(t,n){var e=[],r=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(e.push(a.value),!n||e.length!==n);r=!0);}catch(t){o=!0,i=t}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}return e}return function(n,e){if(Array.isArray(n))return n;if(Symbol.iterator in Object(n))return t(n,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"===("undefined"==typeof exports?"undefined":_typeof(exports))?module.exports=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:global.window;return t(require("jQuery")(n))}:t(jQuery)}(function(t){function n(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!t||!t.length)throw new Error("Missing `target` jQuery instance");if(!n.icons||!Object.keys(n.icons).length)throw new Error("Missing `icons` configuration from config file");this.color=n.color,this.icons=n.icons,this.width=t.outerWidth(),this.height=t.outerHeight(),this.$overlay=this.generateOverlay(this.width,this.height),this.$container=this.generateContainer(t),this.$container.append(this.$overlay)}t.iconPatterns={DEFAULTS:{color:"#FFFFFF"},ANIMATIONS:{INITIALIZE:["initialize","initialize--fast","initialize--slow"],ROTATE:["none","rotate","rotate--fast","rotate--slow","rotate--reverse","rotate--reverse--fast","rotate--reverse--slow"],EXPAND:["none","expand","expand--fast","expand--slow","expand--reverse","expand--reverse--fast","expand--reverse--slow"]}};var e={Random:{rotation:function(){return Math.round(360*Math.random())+1},number:function(t,n){return Math.floor(Math.random()*(n-t)+t)},itemFrom:function(t){return t[e.Random.number(0,t.length)]},offset:function(t,n){return{x:parseInt(Math.random()*t),y:parseInt(Math.random()*n)}},positions:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.1;if(!t||t<=0)throw new Error("Argument `count` should be greater than zero");var i=Math.floor(Math.sqrt(t))+1,a={rows:i,columns:i,width:Math.floor(n/i),height:Math.floor(r/i)};return Array.from(Array(t)).map(function(t,i){var s=Math.floor(i/a.columns),c=i%a.rows,u=a.width*c+a.width/2,f=a.height*s+a.height/2,h=e.Random.offset(o*(n/2),o*(r/2));return{x:e.Random.itemFrom([u+h.x,u-h.x]),y:e.Random.itemFrom([f+h.y,f-h.y])}})}}};return n.prototype.generateContainer=function(n){return n.css("position","relative"),n.children().each(function(){"auto"===t(this).css("z-index")&&t(this).css("z-index",1)}),n},n.prototype.generateIcon=function(n,e,r,o,i,a){var s=["font-size: "+r+"px","color: "+n],c=["left: "+o.x+"px","top: "+o.y+"px","-webkit-transform: rotate("+i+"deg)","-MS-transform: rotate("+i+"deg)","transform: rotate("+i+"deg)"];return t("<span class='icon-patterns__animations__initial "+a.initial+"' style='"+c.join(";")+"'><span class='icon-patterns__animations__expand "+a.expand+"'> <i class='"+[e,a.rotate].join(" ")+"' style='"+s.join(";")+"'></i></span></span>")},n.prototype.generateOverlay=function(n,e){var r=t("<div class='icon-patterns__overlay'></div>");return r.width(n),r.height(e),r.css({position:"absolute","z-index":0,top:0,left:0}),r},n.prototype.draw=function(){var n=this,r=t.iconPatterns.ANIMATIONS,o=Object.entries(this.icons),i=o.reduce(function(t,n){return t+n[1].count},0),a=e.Random.positions(i,this.width,this.height);return o.forEach(function(t){var o=_slicedToArray(t,2),i=o[0],s=o[1],c=s.sizeVariation,u=s.count;Array.from(Array(u)).forEach(function(){var t=e.Random.rotation(),o=e.Random.number(0,a.length-1),s=a.splice(o,1)[0],u=e.Random.number(c[0],c[1]),f={initial:e.Random.itemFrom(r.INITIALIZE),rotate:e.Random.itemFrom(r.ROTATE),expand:e.Random.itemFrom(r.EXPAND)},h=n.generateIcon(n.color,i,u,s,t,f);n.$overlay.append(h)})}),this},t.extend(t.fn,{IconPatterns:function(e){return new n(t(this),Object.assign({},e,t.iconPatterns.DEFAULTS))}}),{Helpers:e,PatternInstance:n}});